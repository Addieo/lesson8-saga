{"ast":null,"code":"var _jsxFileName = \"/Users/linzhijing/Desktop/\\u6211\\u7684\\u5B66\\u4E60/\\u7B2C\\u4E8C\\u9636\\u6BB5react/\\u8BFE\\u4EF6\\u53CA\\u8D44\\u6599/react\\u9879\\u76EE\\u5B9E\\u6218/lesson8-saga/src/pages/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: \"\"\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          isLogin = _this$props.isLogin,\n          location = _this$props.location,\n          login = _this$props.login,\n          loading = _this$props.loading,\n          err = _this$props.err;\n\n    const _ref = location.state || {},\n          _ref$redirect = _ref.redirect,\n          redirect = _ref$redirect === void 0 ? \"/\" : _ref$redirect;\n\n    if (isLogin) {\n      return React.createElement(Redirect, {\n        to: redirect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, \"LoginPage\"), React.createElement(\"input\", {\n      value: this.state.userName,\n      onChange: event => this.setState({\n        userName: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: () => login(this.state.userName),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, loading ? \"loading...\" : \"login\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, err));\n  }\n\n}\n\nexport default connect( //mapStateToProps,\nstate => ({\n  isLogin: state.isLogin,\n  loading: state.loading,\n  err: state.err\n}), //mapDispatchToProps\n// {\n//   login: userName => dispatch => {\n//     dispatch({ type: \"loginRequest\" });\n//     setTimeout(() => {\n//       console.log(\"userName\", userName);\n//       dispatch({ type: \"loginSuccess\" });\n//     }, 1000);\n//   }\n{\n  login: userName => ({\n    type: \"login\",\n    payload: {\n      userName\n    }\n  })\n})(LoginPage);","map":{"version":3,"sources":["/Users/linzhijing/Desktop/我的学习/第二阶段react/课件及资料/react项目实战/lesson8-saga/src/pages/LoginPage.js"],"names":["React","Component","Route","Redirect","connect","LoginPage","constructor","props","state","userName","render","isLogin","location","login","loading","err","redirect","event","setState","target","value","type","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAChCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AACD;;AACDC,EAAAA,MAAM,GAAG;AAAA,wBAC4C,KAAKH,KADjD;AAAA,UACCI,OADD,eACCA,OADD;AAAA,UACUC,QADV,eACUA,QADV;AAAA,UACoBC,KADpB,eACoBA,KADpB;AAAA,UAC2BC,OAD3B,eAC2BA,OAD3B;AAAA,UACoCC,GADpC,eACoCA,GADpC;;AAAA,iBAEoBH,QAAQ,CAACJ,KAAT,IAAkB,EAFtC;AAAA,+BAECQ,QAFD;AAAA,UAECA,QAFD,8BAEY,GAFZ;;AAGP,QAAIL,OAAJ,EAAa;AACX,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAEK,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;AACD,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AACE,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWC,QADpB;AAEE,MAAA,QAAQ,EAAEQ,KAAK,IAAI,KAAKC,QAAL,CAAc;AAAET,QAAAA,QAAQ,EAAEQ,KAAK,CAACE,MAAN,CAAaC;AAAzB,OAAd,CAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAME;AAAQ,MAAA,OAAO,EAAE,MAAMP,KAAK,CAAC,KAAKL,KAAL,CAAWC,QAAZ,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGK,OAAO,GAAG,YAAH,GAAkB,OAD5B,CANF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIC,GAAJ,CATF,CADF;AAaD;;AAxB+B;;AA2BlC,eAAeX,OAAO,EACpB;AACAI,KAAK,KAAK;AAAEG,EAAAA,OAAO,EAAEH,KAAK,CAACG,OAAjB;AAA0BG,EAAAA,OAAO,EAAEN,KAAK,CAACM,OAAzC;AAAkDC,EAAAA,GAAG,EAAEP,KAAK,CAACO;AAA7D,CAAL,CAFe,EAGpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEF,EAAAA,KAAK,EAAEJ,QAAQ,KAAK;AAAEY,IAAAA,IAAI,EAAE,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAAEb,MAAAA;AAAF;AAA1B,GAAL;AADjB,CAZoB,CAAP,CAebJ,SAfa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { userName: \"\" };\n  }\n  render() {\n    const { isLogin, location, login, loading, err } = this.props;\n    const { redirect = \"/\" } = location.state || {};\n    if (isLogin) {\n      return <Redirect to={redirect} />;\n    }\n    return (\n      <div>\n        <h3>LoginPage</h3>\n        <input\n          value={this.state.userName}\n          onChange={event => this.setState({ userName: event.target.value })}\n        />\n        <button onClick={() => login(this.state.userName)}>\n          {loading ? \"loading...\" : \"login\"}\n        </button>\n        <p>{err}</p>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  //mapStateToProps,\n  state => ({ isLogin: state.isLogin, loading: state.loading, err: state.err }),\n  //mapDispatchToProps\n  // {\n  //   login: userName => dispatch => {\n  //     dispatch({ type: \"loginRequest\" });\n  //     setTimeout(() => {\n  //       console.log(\"userName\", userName);\n  //       dispatch({ type: \"loginSuccess\" });\n  //     }, 1000);\n  //   }\n  {\n    login: userName => ({ type: \"login\", payload: { userName } })\n  }\n)(LoginPage);\n"]},"metadata":{},"sourceType":"module"}